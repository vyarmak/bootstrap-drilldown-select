"use strict";!function(a){a.fn.drilldownSelect=function(b){function c(a,b){var d="";if(a.length){var e=a.shift();if(b)for(var g=0;g<b.length;g++)if(b[g].id==e){d+=b[g][f.valueName]+(a.length?f.pathSeparator+c(a,b[g][f.listName]):"");break}}return d}function d(a,b,d){var e=c(b,d);return e=f.appendValue?(a?a+" - ":"")+e:e}function e(b,c,i,j){var k=i;if(!(i instanceof Array)){i+="";var k=null!=i&&""!=i?i.split(","):[]}var l=f.data;if(k.length)for(var m=0;m<k.length;m++)for(var n=k[m],o=0;o<l.length;o++)if(l[o].id==n){l=l[o][f.listName];break}if(!l)return f.onSelected(c),b.dropdown("toggle"),g=!1,h=!0,!1;g&&(b.dropdown("toggle"),g=!1,h&&(h=!1,f.onUnselect()));var p=b.parent();p.find("ul.dropdown-menu").remove();var q=a('<ul class="dropdown-menu" style="'+(f.height?"height: "+f.height+"px; ":"")+'overflow: auto;"></ul>'),r=null,s=null,t=k.slice();k.length&&(t.pop(),s=a('<li><a href="#" data-path="'+t.join(",")+'"><b>'+f.textBack+"</b></a></li>"),s.on("click",function(c){var d=b.find("span.text");return d.html(d.attr("placeholder")),e(b,c,a(c.target).closest("[data-path]").data("path"),!0),!1}),q.append(s));for(var m=0;m<l.length;m++){r=l[m],t=k.slice(),t.push(r[f.keyName]);var u=r[f.activeName]===!1?"disabled":"",v=void 0!=r[f.listName]&&r[f.listName]&&r[f.listName].length?"hasChild":"",w=u?f.textDisabled:"",x='<li class="'+v+" "+u+'"><a href="#" data-path="'+t.join(",")+'" data-id="'+r[f.keyName]+'">'+r[f.valueName]+w+"</a></li>";s=a(x),u||s.on("click",function(c){c.preventDefault();var g=a(c.target),h=b.find("span.text");h.html()==h.attr("placeholder")&&h.html("");var i=f.showPath?g.data("path"):g.data("id"),j="string"==typeof i||i instanceof String?i.split(","):[i],k=d(h.html(),j,f.data);return h.html(k),e(b,c,g.closest("[data-path]").data("path"),!0),!1}),q.append(s)}return q.insertAfter(b),j?(b.dropdown("toggle"),g=!0,!1):void 0}var f={left:15,height:200,data:[],keyName:"id",valueName:"name",listName:"list",activeName:"active",appendValue:!0,textBack:"Back...",textDisabled:"",showPath:!0,pathSeparator:"<b> > </b>",onUnselect:function(){alert("unselected")},onSelected:function(b){alert(a(b.target).data("id"))}},b=a.extend(f,b),g=!1,h=!1;return this.each(function(b){var c=a(this),d=c.find("span.text");d.html(d.attr("placeholder"));var h=c.parent();e(c,null,"",!1),h.on("show.bs.dropdown",function(b){var c=a(b.relatedTarget),d=a(b.target).find(".dropdown-menu");d.width(c.outerWidth()-2),d.css("left",f.left),g=!0})}),this.setItemSelected=function(a){var b=a.slice(0),c=this.find("span.text"),g=d(c.html(),a,f.data);h=!0,c.html(g),b.pop(),e(this,null,b,!1)},this}}(jQuery);
//# sourceMappingURL=bootstrap-drilldown-select.js.map